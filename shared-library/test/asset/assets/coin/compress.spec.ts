import {lookupAssetFactory} from '../../../../src/asset/lookup-asset-factory';
import {AssetId} from '../../../../src/datatypes/data';
import {CompressedAssetIds} from '../../../../src/datatypes/compress';

describe('Test backward compatibility of coin ids and compression', function () {
    const assetCoin = lookupAssetFactory['coin'];
    let idsNew: AssetId<'coin'>[];
    let idsOld: AssetId<'coin'>[];

    beforeEach(function () {
        idsNew = assetCoin.getIds();
        idsOld = getOldIds();
    });

    it('should always(!) append new ids at the end of the new ids ' +
        '(actually no coins could be removed, if this is wanted a fixed lookup table have to substitute the current solution)', function () {
        const slicedNew = idsNew.slice(0, idsOld.length);
        expect(slicedNew).toEqual(idsOld);
    });

    it('IF (!!!) the other test all passes then adapt old ids and old lookup frequently', function () {
        expect(idsNew).toEqual(idsOld);
    });

    it('should be backward compatible from old to new (Within user data ids with old compression live long)', function () {
        const idsSomewhereInUserData = 'ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ\u0007' as CompressedAssetIds;
        const recoveredByNewLookup = assetCoin.decompressIds(idsSomewhereInUserData);
        expect(recoveredByNewLookup).toEqual(idsOld.slice(0, idsOld.length - 5));
    });
});

function getOldIds(): AssetId<'coin'>[] {
    return [
        "bitcoin",
        "ethereum",
        "tether",
        "binancecoin",
        "usd-coin",
        "solana",
        "terra-luna",
        "ripple",
        "cardano",
        "avalanche-2",
        "polkadot",
        "dogecoin",
        "binance-usd",
        "terrausd",
        "shiba-inu",
        "wrapped-bitcoin",
        "crypto-com-chain",
        "matic-network",
        "near",
        "staked-ether",
        "dai",
        "cosmos",
        "litecoin",
        "chainlink",
        "tron",
        "bitcoin-cash",
        "ftx-token",
        "ethereum-classic",
        "algorand",
        "stellar",
        "leo-token",
        "okb",
        "uniswap",
        "vechain",
        "axie-infinity",
        "filecoin",
        "internet-computer",
        "hedera-hashgraph",
        "elrond-erd-2",
        "monero",
        "decentraland",
        "the-sandbox",
        "fantom",
        "theta-token",
        "compound-ether",
        "waves",
        "thorchain",
        "apecoin",
        "tezos",
        "the-graph",
        "klay-token",
        "aave",
        "frax",
        "eos",
        "magic-internet-money",
        "pancakeswap-token",
        "osmosis",
        "flow",
        "helium",
        "defichain",
        "iota",
        "ecash",
        "maker",
        "zcash",
        "convex-finance",
        "celo",
        "frax-share",
        "bittorrent",
        "compound-usd-coin",
        "gala",
        "harmony",
        "arweave",
        "cdai",
        "theta-fuel",
        "zilliqa",
        "neo",
        "quant-network",
        "bitcoin-cash-sv",
        "huobi-btc",
        "kusama",
        "enjincoin",
        "kucoin-shares",
        "blockstack",
        "huobi-token",
        "radix",
        "havven",
        "nexo",
        "chiliz",
        "loopring",
        "dash",
        "true-usd",
        "mina-protocol",
        "amp-token",
        "celsius-degree-token",
        "stepn",
        "humans-ai",
        "basic-attention-token",
        "kadena",
        "lido-dao",
        "bitdao",
        "holotoken",
        "curve-dao-token",
        "juno-network",
        "oasis-network",
        "gatechain-token",
        "compound-governance-token",
        "nem",
        "secret",
        "paxos-standard",
        "moonbeam",
        "neutrino",
        "smooth-love-potion",
        "link",
        "audius",
        "xido-finance",
        "skale",
        "pocket-network",
        "iotex",
        "decred",
        "msol",
        "qtum",
        "iostoken",
        "yearn-finance",
        "sushi",
        "nxm",
        "gnosis",
        "omisego",
        "ecomi",
        "1inch",
        "anchor-protocol",
        "bitkub-coin",
        "icon",
        "swipe",
        "kava",
        "xdce-crowd-sale",
        "bitcoin-gold",
        "ankr",
        "ravencoin",
        "defi-kingdoms",
        "0x",
        "bancor",
        "livepeer",
        "wax",
        "compound-usdt",
        "render-token",
        "synapse-2",
        "siacoin",
        "radio-caca",
        "acala",
        "pax-gold",
        "oec-token",
        "safemoon-2",
        "rocket-pool",
        "sapphire",
        "renbtc",
        "e-radix",
        "dydx",
        "woo-network",
        "zencash",
        "just",
        "songbird",
        "rally-2",
        "fei-usd",
        "immutable-x",
        "dogelon-mars",
        "ontology",
        "convex-crv",
        "telcoin",
        "golem",
        "uma",
        "velas",
        "digibyte",
        "baby-doge-coin",
        "olympus",
        "bitclout",
        "apenft",
        "looksrare",
        "liquity-usd",
        "spell-token",
        "republic-protocol",
        "astar",
        "mobox",
        "tether-gold",
        "swissborg",
        "ethereum-name-service",
        "nucypher",
        "polymath",
        "trust-wallet-token",
        "constellation-labs",
        "astroport",
        "vulcan-forged",
        "pirate-chain",
        "lido-staked-sol",
        "syscoin",
        "everdome",
        "zelcash",
        "illuvium",
        "casper-network",
        "hive",
        "serum",
        "playdapp",
        "nervos-network",
        "metis-token",
        "tomb",
        "keep-network",
        "celer-network",
        "lisk",
        "nano",
        "ultra",
        "ichi-farm",
        "coti",
        "chromaway",
        "wink",
        "mmfinance",
        "wazirx",
        "floki-inu",
        "fetch-ai",
        "vvs-finance",
        "constitutiondao",
        "tenset",
        "tokemak",
        "coin98",
        "raydium",
        "dent",
        "injective-protocol",
        "ronin",
        "perpetual-protocol",
        "persistence",
        "gmx",
        "kyber-network-crystal",
        "dopex",
        "joe",
        "mirror-protocol",
        "ufo-gaming",
        "xsushi",
        "moonriver",
        "flex-coin",
        "husd",
        "aurora-near",
        "api3",
        "fx-coin",
        "mimatic",
        "multichain",
        "biswap",
        "medibloc",
        "safemoon",
        "status",
        "conflux-token",
        "xyo-network",
        "merit-circle",
        "origin-protocol",
        "ergo",
        "origintrail",
        "meerkat-shares",
        "dao-maker",
        "ocean-protocol",
        "everscale",
        "mask-network",
        "tribe-2",
        "digitalbits",
        "gemini-dollar",
        "titanswap",
        "metahero",
        "plex",
        "zipmex-token",
        "zenon",
        "yield-guild-games",
        "power-ledger",
        "orbs",
        "creditcoin-2",
        "coinex-token",
        "pundi-x-2",
        "mx-token",
        "ardor",
        "chia",
        "mxc",
        "telos",
        "cartesi",
        "mdex",
        "reserve-rights-token",
        "energy-web-token",
        "maple",
        "civic",
        "aragon",
        "alpha-finance",
        "radicle",
        "lukso-token",
        "cratos",
        "boba-network",
        "biconomy",
        "superfarm",
        "vethor-token",
        "escoin-token",
        "tether-eurt",
        "milk-alliance",
        "reef-finance",
        "verge",
        "akash-network",
        "band-protocol",
        "request-network",
        "butterflydao",
        "storm",
        "beta-finance",
        "bakerytoken",
        "pundi-x",
        "yoshi-exchange",
        "tokamak-network",
        "klever",
        "seth2",
        "rmrk",
        "poollotto-finance",
        "keep3rv1",
        "storj",
        "ark",
        "dopex-rebate-token",
        "nkn",
        "bezoge-earth",
        "maidsafecoin",
        "truefi",
        "numeraire",
        "dusk-network",
        "alchemix-usd",
        "league-of-kingdoms",
        "rari-governance-token",
        "balancer",
        "aelf",
        "starlink",
        "divi",
        "sbtc",
        "alchemy-pay",
        "bifrost",
        "hathor",
        "unibright",
        "victoria-vr",
        "iexec-rlc",
        "coinmetro",
        "orchid-protocol",
        "railgun",
        "prometeus",
        "usdx",
        "stratis",
        "sun-token",
        "asd",
        "xsgd",
        "polkastarter",
        "mango-markets",
        "venus",
        "metadium",
        "benqi-liquid-staked-avax",
        "ankreth",
        "kyber-network",
        "insure",
        "world-mobile-token",
        "alien-worlds",
        "wilder-world",
        "magic",
        "marlin",
        "ellipsis",
        "quark-chain",
        "kishu-inu",
        "interest-bearing-bitcoin",
        "stargaze",
        "dodo",
        "hxro",
        "steem",
        "kardiachain",
        "qredo",
        "wrapped-centrifuge",
        "btse-token",
        "savanna",
        "stp-network",
        "nusd",
        "gxchain",
        "alchemix",
        "dawn-protocol",
        "sperax",
        "platon-network",
        "bnb48-club-token",
        "proton",
        "aioz-network",
        "singularitynet",
        "decentral-games",
        "tomb-shares",
        "dero",
        "rif-token",
        "feg-token-bsc",
        "jasmycoin",
        "strike",
        "tomochain",
        "everipedia",
        "btc-standard-hashrate-token",
        "my-neighbor-alice",
        "orion-protocol",
        "stasis-eurs",
        "flex-usd",
        "deapcoin",
        "jpeg-d",
        "aavegotchi",
        "adshares",
        "spookyswap",
        "kilt-protocol",
        "metal",
        "utrust",
        "neutrino-system-base-token",
        "funfair",
        "feg-token",
        "iron-bank-euro",
        "verasity",
        "beldex",
        "gpex",
        "seedify-fund",
        "zoid-pay",
        "dvision-network",
        "covalent",
        "kirobo",
        "clover-finance",
        "adventure-gold",
        "electroneum",
        "beefy-finance",
        "badger-dao",
        "compound-uniswap",
        "wonderland",
        "hoo-token",
        "veritaseum",
        "seth",
        "aurora-dao",
        "ethlend",
        "bitrue-token",
        "karura",
        "wanchain",
        "phantasma",
        "allianceblock",
        "ion",
        "auction",
        "benqi",
        "bitcoin-diamond",
        "regen",
        "hunt-token",
        "maps",
        "gitcoin",
        "augur",
        "automata",
        "certik",
        "safepal",
        "dei-token",
        "kava-swap",
        "thunder-token",
        "bonfida",
        "rook",
        "marketpeak",
        "hermez-network-token",
        "defipulse-index",
        "eth-2x-flexible-leverage-index",
        "xmon",
        "decentral-games-governance",
        "gains-farm",
        "noia-network",
        "blox",
        "aergo",
        "sifchain",
        "mainframe",
        "avalaunch",
        "origin-dollar",
        "carry",
        "iris-network",
        "district0x",
        "redfox-labs-2",
        "aurory",
        "superrare",
        "swarm-bzz",
        "compound-basic-attention-token",
        "klima-dao",
        "verus-coin",
        "saito",
        "hydra",
        "concierge-io",
        "linear",
        "ampleforth",
        "yfii-finance",
        "cult-dao",
        "arpa-chain",
        "propy",
        "melon",
        "boson-protocol",
        "thorchain-erc20",
        "wrapped-nxm",
        "shapeshift-fox-token",
        "compound-0x",
        "ageur",
        "quick",
        "pylon-protocol",
        "flamingo-finance",
        "alpaca-finance",
        "wozx",
        "rizon",
        "circuits-of-value",
        "uquid-coin",
        "loom-network",
        "ethernity-chain",
        "handshake",
        "tornado-cash",
        "alpha-quark-token",
        "derivadao",
        "netvrk",
        "lto-network",
        "crabada",
        "platypus-finance",
        "vectorspace",
        "komodo",
        "gas",
        "celo-dollar",
        "socean-staked-sol",
        "deus-finance-2",
        "nerve-finance",
        "haven",
        "samoyedcoin",
        "oxygen",
        "sovryn",
        "bitshares",
        "harvest-finance",
        "refereum",
        "lcx",
        "presearch",
        "platoncoin",
        "tranchess",
        "sai",
        "xdefi",
        "musd",
        "xcad-network",
        "dia-data",
        "pha",
        "alpine-f1-team-fan-token",
        "voxies",
        "somnium-space-cubes",
        "qanplatform",
        "dock",
        "shiden",
        "opendao",
        "ribbon-finance",
        "qi-dao",
        "bzx-protocol",
        "sharering",
        "super-zero",
        "bluzelle",
        "chainx",
        "ampleforth-governance-token",
        "kin",
        "rarible",
        "guildfi",
        "rai",
        "tokocrypto",
        "elastos",
        "doge-army-token",
        "vega-protocol",
        "alethea-artificial-liquid-intelligence-token",
        "everrise",
        "gains-network",
        "polyswarm",
        "star-atlas",
        "cocos-bcx",
        "bella-protocol",
        "hector-dao",
        "trustswap",
        "temple",
        "avinoc",
        "nftx",
        "woonkly-power",
        "singularitydao",
        "coin-of-the-champions",
        "cvault-finance",
        "vires-finance",
        "contentos",
        "streamr-xdata",
        "tellor",
        "shibadoge",
        "litentry",
        "cudos",
        "adex",
        "toucan-protocol-base-carbon-tonne",
        "dvf",
        "cortex",
        "peony-coin",
        "selfkey",
        "yieldly",
        "terra-virtua-kolect",
        "barnbridge",
        "zcoin",
        "catecoin",
        "mossland",
        "silo-finance",
        "kava-lend",
        "manchester-city-fan-token",
        "apeswap-finance",
        "richquack",
        "vader-protocol",
        "dash-diamond",
        "groestlcoin",
        "aleph",
        "mixmarvel",
        "grid"
    ];
}